{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/Desktop/online store website/Skinecare-Makeup/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/HP/Desktop/online store website/Skinecare-Makeup/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/HP/Desktop/online store website/Skinecare-Makeup/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{toast}from\"react-hot-toast\";import{formatISO9075}from\"date-fns\";import Layout from\"../components/Layout/Layout\";import{useTranslation}from\"react-i18next\";import\"../styles/Blog.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BlogPage=function BlogPage(){var _useTranslation=useTranslation(),t=_useTranslation.t;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var getAllBlogs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/v1/post/get-post\");case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setPosts(data.posts);_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);toast.error(\"Something Went Wrong\");case 12:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function getAllBlogs(){return _ref.apply(this,arguments);};}();useEffect(function(){getAllBlogs();},[]);return/*#__PURE__*/_jsx(Layout,{title:t(\"header:title\"),children:/*#__PURE__*/_jsx(\"div\",{className:\"row dashboard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-9\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"All Blogs List\"}),/*#__PURE__*/_jsx(\"div\",{className:\"blog-list\",children:posts.map(function(p){return/*#__PURE__*/_jsx(Link,{to:\"/dashboard/admin/post/\".concat(p.slug),className:\"blog-link\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"blog-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"blog-image\",children:/*#__PURE__*/_jsx(Link,{to:\"/blog/\".concat(p.slug),children:/*#__PURE__*/_jsx(\"img\",{src:\"/api/v1/post/post-photo/\".concat(p._id),alt:p.title})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"blog-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"blog-title\",children:/*#__PURE__*/_jsx(Link,{to:\"/blog/\".concat(p.slug),children:/*#__PURE__*/_jsx(\"h2\",{children:p.title})})}),/*#__PURE__*/_jsx(\"div\",{className:\"blog-info\",children:/*#__PURE__*/_jsx(\"time\",{children:formatISO9075(new Date(p.createdAt))})}),/*#__PURE__*/_jsx(\"div\",{className:\"blog-summary\",children:/*#__PURE__*/_jsx(\"p\",{children:p.summary})})]})]})},p._id);})})]})})});};export default BlogPage;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","toast","formatISO9075","Layout","useTranslation","BlogPage","t","posts","setPosts","loading","setLoading","getAllBlogs","get","data","console","log","error","map","p","slug","_id","title","Date","createdAt","summary"],"sources":["C:/Users/HP/Desktop/online store website/Skinecare-Makeup/client/src/pages/BlogPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport { formatISO9075 } from \"date-fns\";\r\nimport Layout from \"../components/Layout/Layout\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport \"../styles/Blog.css\";\r\n\r\nconst BlogPage = () => {\r\n  const { t } = useTranslation();\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const getAllBlogs = async () => {\r\n    try {\r\n      const { data } = await axios.get(\"/api/v1/post/get-post\");\r\n      setPosts(data.posts);\r\n    } catch (error) {\r\n      console.log(error);\r\n      toast.error(\"Something Went Wrong\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAllBlogs();\r\n  }, []);\r\n\r\n  return (\r\n     <Layout title={t(\"header:title\")}>\r\n      <div className=\"row dashboard\">\r\n        <div className=\"col-md-9\">\r\n          <h1 className=\"text-center\">All Blogs List</h1>\r\n          <div className=\"blog-list\">\r\n            {posts.map((p) => (\r\n              <Link\r\n                key={p._id}\r\n                to={`/dashboard/admin/post/${p.slug}`}\r\n                className=\"blog-link\"\r\n              >\r\n                <div className=\"blog-item\">\r\n                  <div className=\"blog-image\">\r\n                    <Link to={`/blog/${p.slug}`}>\r\n                      <img\r\n                        src={`/api/v1/post/post-photo/${p._id}`}\r\n                        alt={p.title}\r\n                      />\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"blog-details\">\r\n                    <div className=\"blog-title\">\r\n                      <Link to={`/blog/${p.slug}`}>\r\n                        <h2>{p.title}</h2>\r\n                      </Link>\r\n                    </div>\r\n                    <div className=\"blog-info\">\r\n                      <time>{formatISO9075(new Date(p.createdAt))}</time>\r\n                    </div>\r\n                    <div className=\"blog-summary\">\r\n                      <p>{p.summary}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default BlogPage;\r\n"],"mappings":"kdAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,KAAK,KAAQ,iBAAiB,CACvC,OAASC,aAAa,KAAQ,UAAU,CACxC,MAAOC,OAAM,KAAM,6BAA6B,CAChD,OAASC,cAAc,KAAQ,eAAe,CAC9C,MAAO,oBAAoB,CAAC,wFAE5B,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrB,oBAAcD,cAAc,EAAE,CAAtBE,CAAC,iBAADA,CAAC,CACT,cAA0BT,QAAQ,CAAC,EAAE,CAAC,wCAA/BU,KAAK,eAAEC,QAAQ,eACtB,eAA8BX,QAAQ,CAAC,KAAK,CAAC,yCAAtCY,OAAO,eAAEC,UAAU,eAE1B,GAAMC,YAAW,4FAAG,oMAEOZ,MAAK,CAACa,GAAG,CAAC,uBAAuB,CAAC,uCAAjDC,IAAI,kBAAJA,IAAI,CACZL,QAAQ,CAACK,IAAI,CAACN,KAAK,CAAC,CAAC,+EAErBO,OAAO,CAACC,GAAG,aAAO,CAClBd,KAAK,CAACe,KAAK,CAAC,sBAAsB,CAAC,CAAC,mEAEvC,kBARKL,YAAW,0CAQhB,CAEDb,SAAS,CAAC,UAAM,CACda,WAAW,EAAE,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,mBACG,KAAC,MAAM,EAAC,KAAK,CAAEL,CAAC,CAAC,cAAc,CAAE,uBAChC,YAAK,SAAS,CAAC,eAAe,uBAC5B,aAAK,SAAS,CAAC,UAAU,wBACvB,WAAI,SAAS,CAAC,aAAa,UAAC,gBAAc,EAAK,cAC/C,YAAK,SAAS,CAAC,WAAW,UACvBC,KAAK,CAACU,GAAG,CAAC,SAACC,CAAC,qBACX,KAAC,IAAI,EAEH,EAAE,iCAA2BA,CAAC,CAACC,IAAI,CAAG,CACtC,SAAS,CAAC,WAAW,uBAErB,aAAK,SAAS,CAAC,WAAW,wBACxB,YAAK,SAAS,CAAC,YAAY,uBACzB,KAAC,IAAI,EAAC,EAAE,iBAAWD,CAAC,CAACC,IAAI,CAAG,uBAC1B,YACE,GAAG,mCAA6BD,CAAC,CAACE,GAAG,CAAG,CACxC,GAAG,CAAEF,CAAC,CAACG,KAAM,EACb,EACG,EACH,cACN,aAAK,SAAS,CAAC,cAAc,wBAC3B,YAAK,SAAS,CAAC,YAAY,uBACzB,KAAC,IAAI,EAAC,EAAE,iBAAWH,CAAC,CAACC,IAAI,CAAG,uBAC1B,oBAAKD,CAAC,CAACG,KAAK,EAAM,EACb,EACH,cACN,YAAK,SAAS,CAAC,WAAW,uBACxB,sBAAOnB,aAAa,CAAC,GAAIoB,KAAI,CAACJ,CAAC,CAACK,SAAS,CAAC,CAAC,EAAQ,EAC/C,cACN,YAAK,SAAS,CAAC,cAAc,uBAC3B,mBAAIL,CAAC,CAACM,OAAO,EAAK,EACd,GACF,GACF,EA1BDN,CAAC,CAACE,GAAG,CA2BL,EACR,CAAC,EACE,GACF,EACF,EACC,CAEb,CAAC,CAED,cAAef,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}