{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/Desktop/online store website/Skinecare-Makeup/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/HP/Desktop/online store website/Skinecare-Makeup/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/HP/Desktop/online store website/Skinecare-Makeup/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import ReactQuill from\"react-quill\";import\"react-quill/dist/quill.snow.css\";import{useState}from\"react\";import axios from\"axios\";import{toast}from\"react-toastify\";import{useNavigate}from\"react-router-dom\";import Layout from\"../../components/Layout/Layout\";import AdminMenu from\"./../../components/Layout/AdminMenu\";import{useTranslation}from\"react-i18next\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreatePost(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),summary=_useState4[0],setSummary=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),content=_useState6[0],setContent=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),photo=_useState8[0],setPhoto=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),photoUrl=_useState10[0],setPhotoUrl=_useState10[1];var _useTranslation=useTranslation(),t=_useTranslation.t;var handlePost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var postData,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;postData=new FormData();postData.append(\"title\",title);postData.append(\"summary\",summary);postData.append(\"photo\",photo);postData.append(\"content\",content);_context.next=9;return axios.post(\"/api/v1/post/create-post\",postData);case 9:_yield$axios$post=_context.sent;data=_yield$axios$post.data;if(data.success){toast.success(data.message);navigate(\"/dashboard/admin/posts\");}else{toast.error(data.message);}_context.next=18;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](1);console.log(_context.t0);toast.error(\"Something went wrong\");case 18:case\"end\":return _context.stop();}},_callee,null,[[1,14]]);}));return function handlePost(_x){return _ref.apply(this,arguments);};}();var handlePhotoChange=function handlePhotoChange(e){setPhoto(e.target.files[0]);setPhotoUrl(URL.createObjectURL(e.target.files[0]));};return/*#__PURE__*/_jsx(Layout,{title:\"Dashboard - Create post\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid m-3 p-3 dashboard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(AdminMenu,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-9\",children:[/*#__PURE__*/_jsx(\"h1\",{children:t(\"createBlog:createBlog\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"m-1 w-75\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,placeholder:t(\"createBlog:blogTitle\"),className:\"form-control\",onChange:function onChange(e){return setTitle(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:summary,placeholder:t(\"createBlog:Entersummarofblog\"),className:\"form-control\",onChange:function onChange(e){return setSummary(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"btn btn-outline-secondary col-md-12\",children:[photo?photo.name:\"Upload Photo\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"photo\",accept:\"image/*\",onChange:handlePhotoChange,hidden:true})]})}),photoUrl&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"img\",{src:photoUrl,alt:\"Uploaded\",className:\"img-thumbnail\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"textarea\",{value:content,placeholder:t(\"createBlog:Entercontenttheblog\"),className:\"form-control\",onChange:function onChange(e){return setContent(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handlePost,children:t(\"createBlog:CreateBlog\")})})]})]})]})})});}","map":{"version":3,"names":["ReactQuill","useState","axios","toast","useNavigate","Layout","AdminMenu","useTranslation","CreatePost","navigate","title","setTitle","summary","setSummary","content","setContent","photo","setPhoto","photoUrl","setPhotoUrl","t","handlePost","e","preventDefault","postData","FormData","append","post","data","success","message","error","console","log","handlePhotoChange","target","files","URL","createObjectURL","value","name"],"sources":["C:/Users/HP/Desktop/online store website/Skinecare-Makeup/client/src/pages/Admin/CreatePost.js"],"sourcesContent":["import ReactQuill from \"react-quill\";\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Layout from \"../../components/Layout/Layout\";\r\nimport AdminMenu from \"./../../components/Layout/AdminMenu\";\r\n\r\nimport { useTranslation } from \"react-i18next\";\r\nexport default function CreatePost() {\r\n  const navigate = useNavigate();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [summary, setSummary] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [photo, setPhoto] = useState(null);\r\n  const [photoUrl, setPhotoUrl] = useState(null);\r\nconst { t } = useTranslation();\r\n  const handlePost = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const postData = new FormData();\r\n      postData.append(\"title\", title);\r\n      postData.append(\"summary\", summary);\r\n      postData.append(\"photo\", photo);\r\n      postData.append(\"content\", content);\r\n      \r\n    const { data } = await axios.post(\"/api/v1/post/create-post\", postData);\r\n   \r\n      if (data.success) {\r\n        toast.success(data.message);\r\n        navigate(\"/dashboard/admin/posts\");\r\n      } else {\r\n        toast.error(data.message);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      toast.error(\"Something went wrong\");\r\n    }\r\n  };\r\n\r\n  const handlePhotoChange = (e) => {\r\n    setPhoto(e.target.files[0]);\r\n    setPhotoUrl(URL.createObjectURL(e.target.files[0]));\r\n  };\r\n\r\n  return (\r\n    <Layout title={\"Dashboard - Create post\"}>\r\n      <div className=\"container-fluid m-3 p-3 dashboard\">\r\n        <div className=\"row\">\r\n        <div className=\"col-md-3\">\r\n            <AdminMenu />\r\n          </div>\r\n          <div className=\"col-md-9\">\r\n            <h1>{t(\"createBlog:createBlog\")}</h1>\r\n            <div className=\"m-1 w-75\">\r\n              <div className=\"mb-3\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={title}\r\n                  placeholder={t(\"createBlog:blogTitle\")}\r\n                  className=\"form-control\"\r\n                  onChange={(e) => setTitle(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={summary}\r\n                  placeholder={t(\"createBlog:Entersummarofblog\")}\r\n                  className=\"form-control\"\r\n                  onChange={(e) => setSummary(e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label className=\"btn btn-outline-secondary col-md-12\">\r\n                  {photo ? photo.name : \"Upload Photo\"}\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"photo\"\r\n                    accept=\"image/*\"\r\n                    onChange={handlePhotoChange}\r\n                    hidden\r\n                  />\r\n                </label>\r\n              </div>\r\n\r\n              {photoUrl && (\r\n                <div className=\"mb-2\">\r\n                  <img src={photoUrl} alt=\"Uploaded\" className=\"img-thumbnail\" />\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"mb-3\">\r\n                <textarea\r\n                  value={content}\r\n                  placeholder={t(\"createBlog:Entercontenttheblog\")}\r\n                  className=\"form-control\"\r\n                  onChange={(e) => setContent(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <button className=\"btn btn-primary\" onClick={handlePost}>\r\n                  {t(\"createBlog:CreateBlog\")}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}