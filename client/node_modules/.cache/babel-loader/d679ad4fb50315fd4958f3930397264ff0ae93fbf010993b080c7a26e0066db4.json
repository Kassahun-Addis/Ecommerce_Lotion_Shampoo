{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/Desktop/online store website/Skinecare-Makeup/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/HP/Desktop/online store website/Skinecare-Makeup/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/HP/Desktop/online store website/Skinecare-Makeup/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import AdminMenu from\"../../components/Layout/AdminMenu\";import Layout from\"./../../components/Layout/Layout\";import axios from\"axios\";import toast from\"react-hot-toast\";import{useTranslation}from\"react-i18next\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Posts=function Posts(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useTranslation=useTranslation(),t=_useTranslation.t;// get all posts\nvar getAllPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/v1/post/get-post\");case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setPosts(data.posts);_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);toast.error(\"Something Went Wrong\");case 12:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function getAllPosts(){return _ref.apply(this,arguments);};}();// lifecycle method\nuseEffect(function(){getAllPosts();},[]);return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row dashboard\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(AdminMenu,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-9\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:t(\"indexPage:AllBlog\")}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"indexPage:Photo\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"indexPage:Title\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"indexPage:Summary\")}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:posts===null||posts===void 0?void 0:posts.map(function(p,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:\"/api/v1/post/post-photo/\".concat(p._id),alt:p.title,style:{width:\"100px\"}})}),/*#__PURE__*/_jsx(\"td\",{children:t(p.title)}),/*#__PURE__*/_jsx(\"td\",{children:t(p.summary)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard/admin/edit-post/\".concat(p.slug),className:\"btn btn-primary ms-2 text-white\",children:t(\"indexPage:Edit\")})})]},p._id);})})]})]})]})});};export default Posts;","map":{"version":3,"names":["React","useState","useEffect","AdminMenu","Layout","axios","toast","useTranslation","Link","Posts","posts","setPosts","t","getAllPosts","get","data","console","log","error","map","p","index","_id","title","width","summary","slug"],"sources":["C:/Users/HP/Desktop/online store website/Skinecare-Makeup/client/src/pages/Admin/IndexPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport AdminMenu from \"../../components/Layout/AdminMenu\";\nimport Layout from \"./../../components/Layout/Layout\";\nimport axios from \"axios\";\nimport toast from \"react-hot-toast\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\n\nconst Posts = () => {\n  const [posts, setPosts] = useState([]);\n  const { t } = useTranslation();\n\n  // get all posts\n  const getAllPosts = async () => {\n    try {\n      const { data } = await axios.get(\"/api/v1/post/get-post\");\n      setPosts(data.posts);\n    } catch (error) {\n      console.log(error);\n      toast.error(\"Something Went Wrong\");\n    }\n  };\n\n  // lifecycle method\n  useEffect(() => {\n    getAllPosts();\n  }, []);\n\n  return (\n    <Layout>\n      <div className=\"row dashboard\">\n        <div className=\"col-md-3\">\n          <AdminMenu />\n        </div>\n        <div className=\"col-md-9\">\n          <h1 className=\"text-center\">{t(\"indexPage:AllBlog\")}</h1>\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>{t(\"indexPage:Photo\")}</th>\n                <th>{t(\"indexPage:Title\")}</th>\n                <th>{t(\"indexPage:Summary\")}</th>\n                <th>Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {posts?.map((p, index) => (\n                <tr key={p._id}>\n                  <td>\n                    <img\n                      src={`/api/v1/post/post-photo/${p._id}`}\n                      alt={p.title}\n                      style={{ width: \"100px\" }}\n                    />\n                  </td>\n                  <td>{t(p.title)}</td>\n                  <td>{t(p.summary)}</td>\n                  <td>\n                    <Link\n                      to={`/dashboard/admin/edit-post/${p.slug}`}\n                      className=\"btn btn-primary ms-2 text-white\"\n                    >\n                      {t(\"indexPage:Edit\")}\n                    </Link>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Posts;"],"mappings":"kdAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,UAAS,KAAM,mCAAmC,CACzD,MAAOC,OAAM,KAAM,kCAAkC,CACrD,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,KAAM,iBAAiB,CACnC,OAASC,cAAc,KAAQ,eAAe,CAC9C,OAASC,IAAI,KAAQ,kBAAkB,CAAC,wFAExC,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAClB,cAA0BR,QAAQ,CAAC,EAAE,CAAC,wCAA/BS,KAAK,eAAEC,QAAQ,eACtB,oBAAcJ,cAAc,EAAE,CAAtBK,CAAC,iBAADA,CAAC,CAET;AACA,GAAMC,YAAW,4FAAG,oMAEOR,MAAK,CAACS,GAAG,CAAC,uBAAuB,CAAC,uCAAjDC,IAAI,kBAAJA,IAAI,CACZJ,QAAQ,CAACI,IAAI,CAACL,KAAK,CAAC,CAAC,+EAErBM,OAAO,CAACC,GAAG,aAAO,CAClBX,KAAK,CAACY,KAAK,CAAC,sBAAsB,CAAC,CAAC,mEAEvC,kBARKL,YAAW,0CAQhB,CAED;AACAX,SAAS,CAAC,UAAM,CACdW,WAAW,EAAE,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,KAAC,MAAM,wBACL,aAAK,SAAS,CAAC,eAAe,wBAC5B,YAAK,SAAS,CAAC,UAAU,uBACvB,KAAC,SAAS,IAAG,EACT,cACN,aAAK,SAAS,CAAC,UAAU,wBACvB,WAAI,SAAS,CAAC,aAAa,UAAED,CAAC,CAAC,mBAAmB,CAAC,EAAM,cACzD,eAAO,SAAS,CAAC,OAAO,wBACtB,oCACE,mCACE,oBAAKA,CAAC,CAAC,iBAAiB,CAAC,EAAM,cAC/B,oBAAKA,CAAC,CAAC,iBAAiB,CAAC,EAAM,cAC/B,oBAAKA,CAAC,CAAC,mBAAmB,CAAC,EAAM,cACjC,oBAAI,QAAM,EAAK,GACZ,EACC,cACR,uBACGF,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAES,GAAG,CAAC,SAACC,CAAC,CAAEC,KAAK,qBACnB,mCACE,iCACE,YACE,GAAG,mCAA6BD,CAAC,CAACE,GAAG,CAAG,CACxC,GAAG,CAAEF,CAAC,CAACG,KAAM,CACb,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAQ,CAAE,EAC1B,EACC,cACL,oBAAKZ,CAAC,CAACQ,CAAC,CAACG,KAAK,CAAC,EAAM,cACrB,oBAAKX,CAAC,CAACQ,CAAC,CAACK,OAAO,CAAC,EAAM,cACvB,iCACE,KAAC,IAAI,EACH,EAAE,sCAAgCL,CAAC,CAACM,IAAI,CAAG,CAC3C,SAAS,CAAC,iCAAiC,UAE1Cd,CAAC,CAAC,gBAAgB,CAAC,EACf,EACJ,GAjBEQ,CAAC,CAACE,GAAG,CAkBT,EACN,CAAC,EACI,GACF,GACJ,GACF,EACC,CAEb,CAAC,CAED,cAAeb,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}